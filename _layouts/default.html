<!doctype html>
<html lang="en">
{% include head.html %}
<body>
  {% include header.html %}
  <div class="container-fluid">
    <div class="row">
      <main role="main" class="col-md-8 col-lg-9 px-md-4">
        {{ content }}
      </main>

      <nav id="sidebar" class="col-md-4 col-lg-3 d-md-block bg-light sidebar">
        <div class="sidebar-sticky">

          <!-- Menambahkan total pengunjung, pengunjung hari ini, dan negara pengunjung -->
          <div class="card">
            <div class="card-header">
              Visitor Statistics
            </div>
            <div class="card-body">
              <p id="total-visitors">Loading total visitors...</p>
              <p id="today-visitors">Loading visitors today...</p>
              <p id="country-visitors">Loading countries...</p>
            </div>
          </div>

          <!-- Untuk recent posts di sidebar -->
          <div class="card-header">
            Recent Posts
          </div>
          <ul class="list-group list-group-flush">
            {% assign sorted_posts = site.posts | sort: 'views' | reverse %}
            {% for post in sorted_posts limit: 7 %}
            <li class="list-group-item">
              <span class="badge badge-primary">{{ forloop.index }}</span>
              <a href="{{ post.url }}">{{ post.title }}</a>
              <span class="badge badge-info float-right">{{ post.views }} views</span>
            </li>
            {% endfor %}
          </ul>

          <div class="card">
            <div class="card-header">
              Top 5 Repository Simaster
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item"><a href="https://github.com/masterwifinetworksolution/file">file</a></li>
              <li class="list-group-item"><a href="https://github.com/masterwifinetworksolution/clash">Konfigurasi Clash</a></li>
              <li class="list-group-item"><a href="https://github.com/masterwifinetworksolution/linux-armbian-server">Linux Armbian Server</a></li>
              <li class="list-group-item"><a href="https://github.com/masterwifinetworksolution/clash-cfm">clash cfm</a></li>
              <li class="list-group-item"><a href="https://github.com/masterwifinetworksolution/termux-auto-planemode">termux-auto-planemode</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </div>
  {% include footer.html %}
  
<!-- code adsense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<!-- Google Analytics 4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FW998S2190"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FW998S2190');
</script>

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

<script>
  const posts = [
    { title: 'Selamat Datang di Master Wifi Network Solution', url: '/announcement/2024/11/25/wellcome-to-masterwifinetworksolution/' },
    { title: '5 Tips Ampuh untuk Meningkatkan Kecepatan WiFi di Rumah Anda', url: '/tips/wifi/teknologi/2024/11/23/cara-ampuh-titik/' },
    { title: 'About Page', url: '/about/' },
    { title: 'Categories Page', url: '/categories/' },
    // Tambahkan semua posting dan halaman dengan judul dan URL mereka di sini
  ];

  function searchPosts() {
    const query = document.getElementById('search-input').value.toLowerCase();
    const results = posts.filter(post => post.title.toLowerCase().includes(query));
    const resultsContainer = document.getElementById('search-results');

    resultsContainer.innerHTML = '';

    if (results.length > 0) {
      results.forEach(result => {
        const resultItem = document.createElement('div');
        resultItem.innerHTML = `<a href="${result.url}">${result.title}</a>`;
        resultsContainer.appendChild(resultItem);
      });
    } else {
      resultsContainer.innerHTML = '<div>No results found</div>';
    }
  }
</script>

<script>
  // Fungsi untuk mengambil jumlah pengunjung dari Google Analytics
  function fetchAnalyticsData(callback) {
    gtag('event', 'page_view', {
      'event_callback': function() {
        // Mengambil data dari Google Analytics API atau dari localStorage sebagai contoh
        var totalVisitors = localStorage.getItem('totalVisitors') || 0;
        var todayVisitors = localStorage.getItem('todayVisitors') || 0;
        var countryVisitors = localStorage.getItem('countryVisitors') || 'N/A';
        callback(totalVisitors, todayVisitors, countryVisitors);
      }
    });
  }

  // Menampilkan data pengunjung di elemen dengan id "analytics-data"
  document.addEventListener('DOMContentLoaded', function() {
    fetchAnalyticsData(function(total, today, country) {
      document.getElementById('total-visitors').textContent = total + ' total visitors';
      document.getElementById('today-visitors').textContent = today + ' visitors today';
      document.getElementById('country-visitors').textContent = 'Visitors from: ' + country;
    });
  });
</script>

<script>
  function playVideo(videoId) {
      var player = document.getElementById('player');
      player.src = 'https://www.youtube.com/embed/' + videoId;
  }
</script>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3.2.0/dist/email.min.js"></script>
<script type="text/javascript">
  (function(){
    emailjs.init("Gpr-CVHpfLTtQT4ED990N"); // Ganti YOUR_USER_ID dengan Public Key dari EmailJS
  })();

  document.getElementById('contact-form').addEventListener('submit', function(event) {
    event.preventDefault(); // Cegah form dari submit secara tradisional

    // Kirim form dengan EmailJS
    emailjs.sendForm('service_xbgrl3a', 'template_rp3ha8z', this)
      .then(function(response) {
        alert('SUCCESS!', response.status, response.text);
        document.getElementById('contact-form').reset(); // Kosongkan form
      }, function(error) {
        alert('FAILED...', error);
      });
  });
</script>

<!-- Copy Code -->
<script>
  function copyCode(button) {
    const codeBlock = button.parentElement.nextElementSibling;
    const textArea = document.createElement('textarea');
    textArea.value = codeBlock.innerText;
    document.body.appendChild(textArea);
    textArea.select();
    document.execCommand('copy');
    document.body.removeChild(textArea);
    alert('Code copied to clipboard');
  }
</script>

<!-- datatables -->
<script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js"></script>

  </body>
</html>
