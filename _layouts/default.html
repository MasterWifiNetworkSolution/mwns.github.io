<!doctype html>
<html lang="en">
{% include head.html %}
<body>
  {% include header.html %}
  <div class="container-fluid">
    <div class="row">
      <main role="main" class="col-md-8 col-lg-9 px-md-4">
        {{ content }}
      </main>

      <nav id="sidebar" class="col-md-4 col-lg-3 d-md-block bg-light sidebar">
        <div class="sticky-top"> <!-- Mengganti sidebar-sticky dengan sticky-top -->

          <!-- Menambahkan total pengunjung, pengunjung hari ini, dan negara pengunjung -->
          <div class="card mb-3">
            <div class="card-header">
              Visitor Statistics
            </div>
            <div class="card-body">
              <a href="http://s01.flagcounter.com/more/Bn"><img src="https://s01.flagcounter.com/count2/Bn/bg_FFFFFF/txt_000000/border_CCCCCC/columns_3/maxflags_30/viewers_3/labels_0/pageviews_1/flags_0/percent_0/" alt="Flag Counter" border="0"></a>
            </div>
          </div>

          <!-- Untuk recent posts di sidebar -->
          <div class="card mb-3">
            <div class="card-header">
              Recent Posts
            </div>
            <ul class="list-group list-group-flush">
              {% assign sorted_posts = site.posts | sort: 'views' | reverse %}
              {% for post in sorted_posts limit: 7 %}
              <li class="list-group-item">
                <span class="badge bg-primary">{{ forloop.index }}</span>
                <a href="{{ post.url }}">{{ post.title }}</a>
                <span class="badge bg-info float-end">{{ post.views }} views</span>
              </li>
              {% endfor %}
            </ul>
          </div>

          <!-- Untuk Top 5 Repository Simaster di sidebar -->
          <div class="card">
            <div class="card-header">
              Top 5 Repository Simaster
            </div>
            <ul class="list-group list-group-flush">
              {% assign repositories = "file|Konfigurasi Clash|Linux Armbian Server|clash cfm|termux-auto-planemode" | split: "|" %}
              {% assign repo_links = "https://github.com/masterwifinetworksolution/file|https://github.com/masterwifinetworksolution/clash|https://github.com/masterwifinetworksolution/linux-armbian-server|https://github.com/masterwifinetworksolution/clash-cfm|https://github.com/masterwifinetworksolution/termux-auto-planemode" | split: "|" %}
              {% for repo in repositories %}
              <li class="list-group-item">
                <span class="badge bg-primary">{{ forloop.index }}</span>
                <a href="{{ repo_links[forloop.index0] }}">{{ repo }}</a>
              </li>
              {% endfor %}
            </ul>
          </div>
          
        </div>
      </nav>
    </div>
  </div>
  
  {% include footer.html %}
  {% include javascript.html %}

  <!-- Tambahkan kode JavaScript untuk mengambil data dari GitHub -->
  <script>
    async function fetchGitHubData() {
      try {
        const response = await fetch('https://api.github.com/repos/masterwifinetworksolution/masterwifinetworksolution.github.io');
        const data = await response.json();

        // Menampilkan jumlah total pengunjung
        document.getElementById('total-visitors').textContent = data.watchers_count + ' total visitors';
        // Menampilkan jumlah pengunjung hari ini (bisa menggunakan data lain sesuai kebutuhan)
        document.getElementById('today-visitors').textContent = data.stargazers_count + ' visitors today';
        // Menampilkan negara pengunjung (bisa diimplementasikan lebih lanjut sesuai data yang tersedia)
        document.getElementById('country-visitors').textContent = 'Visitors from: ' + 'N/A'; // Tidak ada data negara di GitHub API
      } catch (error) {
        console.error('Error fetching GitHub data:', error);
      }
    }

    fetchGitHubData();
  </script>

  <style>
    .menu-icon {
      margin-right: 10px; /* Menambahkan margin kanan untuk memindahkan ikon menu ke pinggir */
    }
  </style>

</body>
</html>
